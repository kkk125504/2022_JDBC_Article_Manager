#### 로그인 기능 구현	

1\) 로그인 아이디 체크

```java
public void login() {
		System.out.println("== 로그인 ==");	
	int loginIdTryCount = 0;
	int loginIdTryMaxCount = 3;
	String loginId = null;
	String loginPw = null;
	while (true) {
		if (loginIdTryCount >= loginIdTryMaxCount) {
			System.out.println("아이디를 확인하고 다시 시도해주세요.");
			return;
		}
		System.out.printf("아이디 입력 :  ");
		loginId = sc.nextLine().trim();
		if (loginId.length() == 0) {
			loginIdTryCount++;
			System.out.println("아이디를 입력해 주세요.");
			continue;
		}
		boolean isLoginDup = memberService.isLoginIdDup(loginId);
		if (isLoginDup == false) {
			loginIdTryCount++;
			System.out.printf("%s는(은) 존재하지 않는 아이디입니다.\n", loginId);
			continue;
		}
		break;
	}
```

- DB의 member테이블에 입력받은 아이디가 있어야 로그인이 가능
- memberService.isLoginIdDup(loginId) 메소드를 통해 아이디가 존재하는지 여부를 확인
- 공백을 입력하거나 일치하는 아이디가 없을시 loginIdTryCount++;하여 3이상이 나오게 되면
- 즉, 3번시도 후 로그인 기능( login( ) )을 return


2\) 로그인 비밀번호 체크

```java
Member member = memberService.getMemberByLoginId(loginId);
	int loginPwTryCount = 0;
	int loginPwTryMaxCount = 3;

	while (true) {
		if (loginPwTryCount >= loginPwTryMaxCount) {
			System.out.println("비밀번호를 확인하고 다시 시도해주세요.");
			return;
		}
		System.out.printf("비밀번호 입력 :  ");
		loginPw = sc.nextLine();

		if (loginPw.length() == 0) {
			loginPwTryCount++;
			System.out.println("비밀번호를 입력해 주세요.");
			continue;
		}
		if (member.loginPw.equals(loginPw) == false) {
			loginPwTryCount++;
			System.out.println("비밀번호가 일치하지 않습니다.");
			continue;
		}
		break;
	}

	System.out.printf("%s님 로그인 성공\n", member.name);
}
```

- memberService.getMemberByLoginId(loginId) 메소드를 통해 입력받은 loginId와 일치하는 회원(Member)을 찾음 

- 찾은 회원의 비밀번호와 입력받은 비밀번호가 일치하는지 체크하고

- loginId입력과 동일하게 3번 공백이거나 일치하지 않으면 return

  

3\)  DB를 조회하여 얻은 데이터는 Map타입이므로 member(memberMap) 생성자를 추가

``` java
//Map<String, Object> memberMap =DBUtil.selectRow(conn, sql);

public Member(Map<String, Object> memberMap) {
		this.id = (int)memberMap.get("id");
		this.regDate = (LocalDateTime) memberMap.get("regDate");
		this.updateDate = (LocalDateTime) memberMap.get("updateDate");
		this.loginId = (String)memberMap.get("loginId");
		this.loginPw = (String)memberMap.get("loginPw");
		this.name = (String)memberMap.get("name");
	}
```



